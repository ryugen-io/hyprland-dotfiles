# =========================
# General Window Rules
# =========================

# Ignore maximize requests from apps
windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

# Example: Make specific terminal fullscreen and floating
# windowrule = fullscreen, class:fullscreen-terminal
# windowrule = float, class:^(floating-terminal)$
# windowrule = center, class:^(floating-terminal)$
# windowrule = size 800 600, class:^(floating-terminal)$

# =========================
# Floating Windows
# =========================

# Common floating apps and dialogs
windowrule = float,class:^(xdg-desktop-portal-gtk)$
windowrule = float,class:^(alacritty)$,title:^(top)$
windowrule = float,class:^(alacritty)$,title:^(btm)$
windowrule = float,class:^(alacritty)$,title:^(htop)$
windowrule = float,class:^(thunar)$,title:^(Rename.*)$
windowrule = float,class:^(Thunar)$,title:^(Rename.*)$
windowrule = float,class:^(org.Waytrogen.Waytrogen)$
windowrule = float,class:^(waytrogen)$
windowrule = float,class:^(qt5ct)$
windowrule = float,class:^(qt6ct)$
windowrule = float,class:^(nwg-look)$
windowrule = float,class:^(nwg-displays)$
windowrule = float,class:^(org.pulseaudio.pavucontrol)$
windowrule = float,class:^(org.gnome.FileRoller)$
windowrule = float,class:^(blueman-manager)$
windowrule = float,class:^(nm-connection-editor)$
windowrule = float,class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = float,class:^(eog)$ # Imageviewer-Gtk
windowrule = float,class:^(com.github.unrud.VideoDownloader)$
windowrule = float,class:^(com.interversehq.qView)$

# =========================
# Common Modal Dialogs
# =========================

# Float common file dialogs and modals
windowrule = float, title:^(Open File)(.*)$
windowrule = float, title:^(Select a File)(.*)$
windowrule = float, title:^(Choose wallpaper)(.*)$
windowrule = float, title:^(Open Folder)(.*)$
windowrule = float, title:^(Save As)(.*)$
windowrule = float, title:^(Library)(.*)$
windowrule = float, title:^(File Upload)(.*)$
windowrule = float, title:^(File Operation Progress)$
windowrule = float, title:^(Confirm to replace files)$

# Set size for browser dialogs
windowrule = size 800 600, class:^(firefox|google-chrome|zen)$,title:^(Save As)$
windowrule = size 800 600, class:^(firefox|google-chrome|zen)$,title:^(Choose Files)$
windowrule = size 800 600, class:^(firefox|google-chrome|zen)$,title:^(Open File)$

# qView specific rules
windowrule = size 800 450,class:^(com.interversehq.qView)$ # Set minimum size
windowrule = fullscreenstate 1 3,class:^(com.interversehq.qView)$
windowrule = content photo,class:^(com.interversehq.qView)$
windowrule = noblur,class:^(com.interversehq.qView)$

# =========================
# Picture-in-Picture (PiP) Rules
# =========================

# PiP windows for browsers and zen
windowrule = float, class:(firefox|google-chrome|zen), title:.*(Picture-in-Picture|Picture in Picture).*
windowrule = pin, class:(firefox|google-chrome|zen), title:.*(Picture-in-Picture|Picture in Picture).*
windowrule = size 480 270, class:(firefox|google-chrome|zen), title:.*(Picture-in-Picture|Picture in Picture).*
windowrule = noblur, class:(firefox|google-chrome|zen), title:.*(Picture-in-Picture|Picture in Picture).*
windowrule = move 74.5% 4.25%, class:(firefox|google-chrome|zen), title:.*(Picture-in-Picture|Picture in Picture).*
windowrule = animation slide, class:(firefox|google-chrome|zen), title:.*(Picture-in-Picture|Picture in Picture).*
windowrule = opaque, class:(firefox|google-chrome|zen), title:.*(Picture-in-Picture|Picture in Picture).*
# =========================
# Opacity Rules
# =========================

# No blur for empty class/title
windowrule = noblur,class:^()$,title:^()$

# Set opacity for specific apps
windowrule = opacity 0.90 0.90,class:^(Dunst)$
windowrule = opacity 0.90 0.90,class:^(thunar)$
windowrule = opacity 0.90 0.90,class:^(code)$
windowrule = opacity 0.90 0.90,class:^(cursor)$
windowrule = opacity 0.90 0.90,class:^(balenaEtcher)$
windowrule = opacity 0.90 0.90,class:^(hyprswitch)$
windowrule = opacity 0.90 0.90,title:^(nvim.*)$
windowrule = opacity 0.90 0.90,title:^(zsh*)$
windowrule = opacity 0.90 0.90,class:^(kiro-url-handler)$
windowrule = opacity 0.90 0.90,class:(zen), title:^(Monkeytype \| A minimalistic, customizable typing test â€” Zen Browser)$
# =========================
# Layer Rules
# =========================

# Wofi layer rules
layerrule = blur,wofi
layerrule = xray 0,wofi
layerrule = dimaround,wofi
layerrule = ignorezero,wofi

# Waybar layer rules
layerrule = blur,waybar
layerrule = xray 0,waybar
layerrule = ignorezero,waybar

# Notifications layer rules
layerrule = xray 0,notifications
layerrule = blur,notifications
layerrule = noanim,notifications
layerrule = ignorezero,notifications

# Logout dialog layer rule
layerrule = blur,logout_dialog
